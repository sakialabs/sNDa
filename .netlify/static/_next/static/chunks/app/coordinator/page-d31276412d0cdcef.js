(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{1647:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var r=a(5155);a(2115);var s=a(3101),n=a(4269);let i=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:a}),t),...s})}},2727:(e,t,a)=>{"use strict";a.d(t,{i:()=>r});let r={BASE_URL:"https://snda-backend.railway.app",ENDPOINTS:{LOGIN:"/api/token/",REFRESH:"/api/token/refresh/"},STORAGE_KEYS:{ACCESS_TOKEN:"snda_access_token",REFRESH_TOKEN:"snda_refresh_token",USER:"snda_user"}}},2833:(e,t,a)=>{"use strict";a.d(t,{A:()=>u,AuthProvider:()=>c});var r=a(5155),s=a(2115),n=a(63),i=a(6600),l=a(2727),o=a(8720);let d=(0,s.createContext)(void 0);function c(e){let{children:t}=e,[a,c]=(0,s.useState)(null),[u,f]=(0,s.useState)(!0),h=(0,n.useRouter)();async function m(e){try{let t=await e.json();if(t&&"object"==typeof t&&"detail"in t)return t.detail||"";return JSON.stringify(t)}catch(t){try{return await e.text()||e.statusText}catch(t){return e.statusText}}}let x=(0,s.useCallback)(()=>{localStorage.removeItem(l.i.STORAGE_KEYS.ACCESS_TOKEN),localStorage.removeItem(l.i.STORAGE_KEYS.REFRESH_TOKEN),localStorage.removeItem(l.i.STORAGE_KEYS.USER),document.cookie="".concat(l.i.STORAGE_KEYS.ACCESS_TOKEN,"=; Max-Age=0; path=/"),document.cookie="".concat(l.i.STORAGE_KEYS.REFRESH_TOKEN,"=; Max-Age=0; path=/"),c(null),h.push("/")},[h]);(0,s.useEffect)(()=>{(async()=>{let e=localStorage.getItem(l.i.STORAGE_KEYS.ACCESS_TOKEN);if(e)try{let t=(0,i.s)(e);if(1e3*t.exp>Date.now()){let t=await fetch("".concat(l.i.BASE_URL,"/api/users/me/"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error(await m(t));let a=await t.json();c(a),localStorage.setItem(l.i.STORAGE_KEYS.USER,JSON.stringify(a))}else x()}catch(e){console.error("Auth initialization error:",e),x()}f(!1)})()},[x]);let p=async(e,t)=>{let a=await fetch("".concat(l.i.BASE_URL).concat(l.i.ENDPOINTS.LOGIN),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(!a.ok)throw Error(await m(a)||"Login failed");let r=await a.json();localStorage.setItem(l.i.STORAGE_KEYS.ACCESS_TOKEN,r.access),localStorage.setItem(l.i.STORAGE_KEYS.REFRESH_TOKEN,r.refresh),document.cookie="".concat(l.i.STORAGE_KEYS.ACCESS_TOKEN,"=").concat(r.access,"; Max-Age=3600; path=/"),document.cookie="".concat(l.i.STORAGE_KEYS.REFRESH_TOKEN,"=").concat(r.refresh,"; Max-Age=604800; path=/");let s=await fetch("".concat(l.i.BASE_URL,"/api/users/me/"),{headers:{Authorization:"Bearer ".concat(r.access)}});if(!s.ok)throw Error(await m(s)||"Failed to load user profile");let n=await s.json();c(n),localStorage.setItem(l.i.STORAGE_KEYS.USER,JSON.stringify(n)),h.push("/dashboard"),o.o.success("Logged in successfully")};return(0,r.jsx)(d.Provider,{value:{user:a,isAuthenticated:!!a,login:p,logout:x,loading:u},children:t})}function u(){let e=(0,s.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var r=a(5155);a(2115);var s=a(2467),n=a(3101),i=a(4269);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:n,asChild:o=!1,...d}=e,c=o?s.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:a,size:n,className:t})),...d})}},4269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(2821),s=a(5889);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},5142:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(5155);a(2115);var s=a(4269);function n(e){let{className:t,type:a,...n}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},6444:(e,t,a)=>{"use strict";a.d(t,{J:()=>i});var r=a(5155);a(2115);var s=a(489),n=a(4269);function i(e){let{className:t,...a}=e;return(0,r.jsx)(s.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},6948:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>o,ZB:()=>l,Zp:()=>n,aR:()=>i});var r=a(5155);a(2115);var s=a(4269);function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...a})}},6964:(e,t,a)=>{Promise.resolve().then(a.bind(a,9371))},9371:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>G});var r=a(5155),s=a(2115),n=a(63),i=a(9678),l=a(2833),o=a(3998),d=a(5142),c=a(6444),u=a(1647),f=a(6948),h=a(4269);let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,h.cn)("w-full caption-bottom text-sm",a),...s})})});m.displayName="Table";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,h.cn)("[&_tr]:border-b",a),...s})});x.displayName="TableHeader";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,h.cn)("[&_tr:last-child]:border-0",a),...s})});p.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,h.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,h.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});g.displayName="TableRow";let v=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,h.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});v.displayName="TableHead";let b=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,h.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});b.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,h.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption";var j=a(1010),y=a(4033),N=a(2108),w=a(5917);let S=j.bL;j.YJ;let E=j.WT,_=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(j.l9,{ref:t,className:(0,h.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[s,(0,r.jsx)(j.In,{asChild:!0,children:(0,r.jsx)(y.A,{className:"h-4 w-4 opacity-50"})})]})});_.displayName=j.l9.displayName;let A=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(j.PP,{ref:t,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(N.A,{className:"h-4 w-4"})})});A.displayName=j.PP.displayName;let R=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(j.wn,{ref:t,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(y.A,{className:"h-4 w-4"})})});R.displayName=j.wn.displayName;let T=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...i}=e;return(0,r.jsx)(j.ZL,{children:(0,r.jsxs)(j.UC,{ref:t,className:(0,h.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,r.jsx)(A,{}),(0,r.jsx)(j.LM,{className:(0,h.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(R,{})]})})});T.displayName=j.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(j.JU,{ref:t,className:(0,h.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=j.JU.displayName;let C=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(j.q7,{ref:t,className:(0,h.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(j.VF,{children:(0,r.jsx)(w.A,{className:"h-4 w-4"})})}),(0,r.jsx)(j.p4,{children:s})]})});function O(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"skeleton",className:(0,h.cn)("bg-gradient-to-r from-muted via-muted/50 to-muted animate-shimmer bg-[length:200%_100%] rounded-md",t),...a})}function k(e){let{cases:t,loading:a}=e;if(a)return(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)(f.Zp,{className:"animate-fade-in",children:[(0,r.jsx)(f.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,r.jsx)(O,{className:"h-4 w-24"})}),(0,r.jsxs)(f.Wu,{children:[(0,r.jsx)(O,{className:"h-8 w-16 mb-2"}),(0,r.jsx)(O,{className:"h-3 w-32"})]})]},t))});let s=t.length,n=t.filter(e=>"NEW"===e.status).length,i=t.filter(e=>"IN_PROGRESS"===e.status).length,l=t.filter(e=>!e.assigned_volunteer).length;return t.filter(e=>{var t;return(null!=(t=e.urgency_score)?t:0)>=5}).length,(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[{title:"Total Cases",value:s,description:"All cases in the system",variant:"default"},{title:"New Cases",value:n,description:"Cases awaiting triage",variant:"secondary"},{title:"In Progress",value:i,description:"Cases being worked on",variant:"default"},{title:"Unassigned",value:l,description:"Cases without volunteers",variant:l>0?"destructive":"default"}].map((e,t)=>(0,r.jsxs)(f.Zp,{children:[(0,r.jsxs)(f.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(f.ZB,{className:"text-sm font-medium",children:e.title}),"Unassigned"===e.title&&e.value>0&&(0,r.jsx)(u.E,{variant:"destructive",children:"Needs Attention"})]}),(0,r.jsxs)(f.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]})]},t))})}C.displayName=j.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(j.wv,{ref:t,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=j.wv.displayName;let L=[{value:"ALL",label:"All Statuses"},{value:"NEW",label:"New"},{value:"TRIAGED",label:"Triaged"},{value:"ASSIGNED",label:"Assigned"},{value:"IN_PROGRESS",label:"In Progress"},{value:"ON_HOLD",label:"On Hold"},{value:"RESOLVED",label:"Resolved"}],K=[{value:"ALL",label:"All Urgency Levels"},{value:"1",label:"Low (1-2)"},{value:"2",label:"Medium (3-4)"},{value:"3",label:"High (5-7)"},{value:"4",label:"Critical (8-10)"}];function G(){let{isAuthenticated:e}=(0,l.A)(),t=(0,n.useRouter)(),[a,h]=(0,s.useState)([]),[,j]=(0,s.useState)([]),[y,N]=(0,s.useState)(!0),[w,A]=(0,s.useState)(null),[R,O]=(0,s.useState)("ALL"),[G,I]=(0,s.useState)("ALL"),[U,P]=(0,s.useState)("");(0,s.useEffect)(()=>{if(!e)return void t.push("/");(async()=>{try{var e,t;N(!0);let[a,r]=await Promise.all([(0,i.t)("/api/cases/"),(0,i.t)("/api/volunteers/")]),[s,n]=await Promise.all([a.json(),r.json()]);h(Array.isArray(s)?s:null!=(e=null==s?void 0:s.results)?e:[]),j(Array.isArray(n)?n:null!=(t=null==n?void 0:n.results)?t:[])}catch(e){A(e instanceof Error?e.message:"Failed to load data")}finally{N(!1)}})()},[e,t]);let F=a.filter(e=>{var t;let a="ALL"===R||e.status===R,r=null!=(t=e.urgency_score)?t:0,s="ALL"===G||"1"===G&&r<=2||"2"===G&&r>=3&&r<=4||"3"===G&&r>=5&&r<=7||"4"===G&&r>=8,n=""===U||e.title.toLowerCase().includes(U.toLowerCase())||e.description.toLowerCase().includes(U.toLowerCase());return a&&s&&n});return e?y?(0,r.jsx)("div",{children:"Loading..."}):w?(0,r.jsxs)("div",{children:["Error: ",w]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Coordinator Dashboard"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage cases, assign volunteers, and track progress"})]}),(0,r.jsx)(k,{cases:a,loading:y}),(0,r.jsx)(f.Zp,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)(c.J,{htmlFor:"search",children:"Search"}),(0,r.jsx)(d.p,{id:"search",placeholder:"Search cases...",value:U,onChange:e=>P(e.target.value)})]}),(0,r.jsxs)("div",{className:"w-48",children:[(0,r.jsx)(c.J,{htmlFor:"status",children:"Status"}),(0,r.jsxs)(S,{value:R,onValueChange:O,children:[(0,r.jsx)(_,{children:(0,r.jsx)(E,{})}),(0,r.jsx)(T,{children:L.map(e=>(0,r.jsx)(C,{value:e.value,children:e.label},e.value))})]})]}),(0,r.jsxs)("div",{className:"w-48",children:[(0,r.jsx)(c.J,{htmlFor:"urgency",children:"Urgency"}),(0,r.jsxs)(S,{value:G,onValueChange:I,children:[(0,r.jsx)(_,{children:(0,r.jsx)(E,{})}),(0,r.jsx)(T,{children:K.map(e=>(0,r.jsx)(C,{value:e.value,children:e.label},e.value))})]})]})]})}),(0,r.jsxs)(f.Zp,{children:[(0,r.jsx)(f.aR,{children:(0,r.jsxs)(f.ZB,{children:["Cases (",F.length,")"]})}),(0,r.jsx)(f.Wu,{children:(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)(m,{children:[(0,r.jsx)(x,{children:(0,r.jsxs)(g,{children:[(0,r.jsx)(v,{children:"Case"}),(0,r.jsx)(v,{children:"Subject"}),(0,r.jsx)(v,{children:"Status"}),(0,r.jsx)(v,{children:"Urgency"}),(0,r.jsx)(v,{children:"Assigned To"}),(0,r.jsx)(v,{children:"Created"}),(0,r.jsx)(v,{children:"Actions"})]})}),(0,r.jsx)(p,{children:0===F.length?(0,r.jsx)(g,{children:(0,r.jsx)(b,{colSpan:7,className:"text-center py-8",children:"No cases found"})}):F.map(e=>{var a;return(0,r.jsxs)(g,{children:[(0,r.jsx)(b,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.title}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground truncate max-w-xs",children:e.description})]})}),(0,r.jsxs)(b,{children:[e.primary_subject.first_name," ",e.primary_subject.last_name]}),(0,r.jsx)(b,{children:(0,r.jsx)(u.E,{children:e.status})}),(0,r.jsx)(b,{children:(0,r.jsx)(u.E,{children:null!=(a=e.urgency_score)?a:"N/A"})}),(0,r.jsx)(b,{children:e.assigned_volunteer?"".concat(e.assigned_volunteer.first_name," ").concat(e.assigned_volunteer.last_name):"Unassigned"}),(0,r.jsx)(b,{children:new Date(e.created_at).toLocaleDateString()}),(0,r.jsx)(b,{children:(0,r.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>t.push("/dashboard/cases/".concat(e.id)),children:"View"})})]},e.id)})})]})})})]})]}):null}},9678:(e,t,a)=>{"use strict";a.d(t,{q:()=>i,t:()=>n});var r=a(2727);function s(e){let t=new Headers(e);{let e=localStorage.getItem(r.i.STORAGE_KEYS.ACCESS_TOKEN);e&&t.set("Authorization","Bearer ".concat(e))}return t}async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=s(t.headers);a.has("Content-Type")||a.set("Content-Type","application/json");let n=await fetch("".concat(r.i.BASE_URL).concat(e),{...t,headers:a});if(!n.ok){let e=n.statusText;try{let t=await n.json();t&&"object"==typeof t&&"detail"in t&&(e=t.detail||e)}catch(t){try{e=await n.text()}catch(e){}}throw Error(e)}return n}async function i(e,t){let a=s(),n=await fetch("".concat(r.i.BASE_URL).concat(e),{method:"POST",headers:a,body:t});if(!n.ok){let e=n.statusText;try{let t=await n.json();t&&"object"==typeof t&&"detail"in t&&(e=t.detail||e)}catch(e){}throw Error(e)}return n}}},e=>{e.O(0,[909,720,132,679,124,441,493,358],()=>e(e.s=6964)),_N_E=e.O()}]);